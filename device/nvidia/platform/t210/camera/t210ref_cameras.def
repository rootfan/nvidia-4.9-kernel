# Copyright (c) 2016-2018, NVIDIA CORPORATION.  All rights reserved.
#
# NVIDIA CORPORATION and its licensors retain all intellectual property
# and proprietary rights in and to this software, related documentation
# and any modifications thereto.  Any use, reproduction, disclosure or
# distribution of this software and related documentation without an express
# license agreement from NVIDIA CORPORATION is strictly prohibited.

############################################################################################
# Module Definitions
#   refer to https://confluence.nvidia.com/display/CHI/Boot+Time+Camera+Configuration
#            https://wiki.nvidia.com/wmpwiki/index.php/Camera#Camera_Sensor_Board_Matrix
#            https://wiki.nvidia.com/wmpwiki/index.php/Camera/Android/Configuration
############################################################################################

AVAILABLE_CAM_MODULE_IDS="3326 3322 3323 3333 LPRD-002001 LPRD-002002"

on_module_default() {
  enable_autofocus              false
  enable_external               false
  enable_flash_autofocus        false
  enable_front                  false

  local num_regular_cameras=$(get_num_regular_cameras)
  if [ $num_regular_cameras -eq 0 ]; then
    enable_full                   false
    enable_manual_postprocessing  false
    enable_manual_sensor          false
    enable_raw                    false
    enable_camera                 false
    use_media_profiles            "/odm/etc/camera_repo/nocam_media_profiles.xml"
  else
    enable_full                   true
    enable_manual_postprocessing  true
    enable_manual_sensor          true
    enable_raw                    true
    enable_camera                 true
    use_media_profiles            "/odm/etc/camera_repo/e3326_media_profiles.xml"
  fi
}

# e3326 5MP Bayer fixed-focus. One sensor
on_module_e3326() {
  enable_autofocus              false
  enable_external               false
  enable_flash_autofocus        false
  enable_front                  false
  enable_full                   true
  enable_manual_postprocessing  true
  enable_manual_sensor          true
  enable_raw                    true
  enable_camera                 true
  use_media_profiles            "/odm/etc/camera_repo/e3326_media_profiles.xml"
}

# e3322 8MP Bayer Six cameras on board. They are facing the same direction(all rear). Each camera has ID from 0 to 5.
on_module_e3322() {
  #same with e3326, except that sensors have focusor.
  enable_autofocus              true
  enable_external               false
  enable_flash_autofocus        false
  enable_front                  false
  enable_full                   true
  enable_manual_postprocessing  true
  enable_manual_sensor          true
  enable_raw                    true
  enable_camera                 true
  use_media_profiles            "/odm/etc/camera_repo/e3326_media_profiles.xml"

}

# e3323 23MP Bayer(0), 23MP Bayer(1), 16MP Bayer(2).
on_module_e3323() {
  enable_autofocus              true
  enable_external               false
  enable_flash_autofocus        false
  enable_front                  true
  enable_full                   true
  enable_manual_postprocessing  true
  enable_manual_sensor          true
  enable_raw                    true
  enable_camera                 true
  use_media_profiles            "/odm/etc/camera_repo/e3323_media_profiles.xml"
}

# e3333 5MP Bayer fixed-focus. Six sensors (0~4: front, 5: back)
on_module_e3333() {
  enable_autofocus              false
  enable_external               false
  enable_flash_autofocus        false
  enable_front                  true
  enable_full                   true
  enable_manual_postprocessing  true
  enable_manual_sensor          true
  enable_raw                    true
  enable_camera                 true
  use_media_profiles            "/odm/etc/camera_repo/e3333_media_profiles.xml"
}

# imx274 support 4k. One sensor (0: back)
on_module_imx274() {
  enable_autofocus              false
  enable_external               false
  enable_flash_autofocus        false
  enable_front                  false
  enable_full                   true
  enable_manual_postprocessing  true
  enable_manual_sensor          true
  enable_raw                    true
  enable_camera                 true
  enable_autofocus              false
  use_media_profiles            "/odm/etc/camera_repo/imx274_media_profiles.xml"
}

on_module_imx185() {
  # Not supported for now on Android. Just use default profile.
  on_module_default
}

#3324 unknown -> default
